import * as log from './log';
import * as options from './options';
import * as set from './set';
import * as sort from './sort';
import * as get from './get';
import * as staticMethods from './static';

function Cite(data, options = {}) {
  if (!(this instanceof Cite)) {
    return new Cite(data, options);
  }

  this._options = options;
  this.log = [];
  this.data = [];
  this.set(data, options);
  this.options(options);
  this.save();
  return this;
}

Object.assign(Cite.prototype, log, options, set, sort, get);

Cite.prototype[Symbol.iterator] = function* () {
  yield* this.data;
};

Object.assign(Cite, staticMethods);
export default Cite;